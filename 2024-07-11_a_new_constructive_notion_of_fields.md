# 新しい構成主義数学の体の定義

## 数

数とは、何であろうか？

かつて、人類は、「○○」と「□□」と「△△」に共通する事柄があることに気づいた。それが "2" である。同じように、人類は、「○○○○○○○」と「□□□□□□□」と「△△△△△△△」に共通する事柄があることに気づいた。それが "7" である。これが、数の始まりだと、私は信じている。

$` A_1 `$ と $` A_2 `$ と $` A_3 `$ と……それぞれが異なる事柄があるとしよう。それら全てについて共通する事柄 $` B `$ を見つけることができたとしよう。 $` B `$ について考えるだけで、 $` A_1 `$ と $` A_2 `$ と $` A_3 `$ と……の全てについて考えることができる。

未知の事柄に新しく名前を与える。複数の既知の事柄に共通する事柄を見つけて新しく名前を与える。これらは、人類が持つ最も素晴らしい知恵だと、私は信じている。

## 体

四則演算がある。加法と減法と乗法と除法である。有理数は四則演算で閉じている。 $` \sqrt{ 2 } `$ を足した有理数も四則演算で閉じている。実数も四則演算で閉じている。複素数も四則演算で閉じている。ここに共通点がある。これに「体」という名前を与えよう。

## 古典数学の体の定義

## 構成主義数学の体の定義

## プログラミング

プログラミングは型を利用する。プログラミングに関わる集団は、どのようにして型を扱えばよいのかという知識を蓄積してきた。その中に、「凝集度を高めよ」というものがある。

除法の関数 $` \mathrm{div} `$ は、どのような型を持つべきだろうか？ 数学の定義を引き写しすれば、 $` ( x : \mathbb{R} ) \to ( y : \mathbb{R} ) \to ( z : y \neq 0 ) \to \mathbb{R} `$ となる。しかし、ここでは "0 ではない" という責任が $` y : A `$ と $` z : y \neq 0 `$ へ分散してしまっている。

このような場合は、 "0 ではない $` \mathbb{R} $`" を表す新しい型を作るべきなのである。このような例は、いくつもある。たとえば、空ではない連結リストを表す型がある。

そうすると、除法の関数 $` \mathrm{div} `$ は $` ( x : \mathbb{R} ) \to ( y : \mathbb{R} \setminus \{ 0 \} ) \to \mathbb{R} `$ という型を持つことになる。これを、体の定義にも応用してみよう。

## 部分同型

整礎関係の準同型写像を考えよう。このとき、 $` 2 \to 3 `$ は $` 1 `$ を $` 1 `$ へ移すことも $` 1 `$ を $` 2 `$ へ移すこともある。では、前者の場合、言い換えれば、下から隙間なく詰めていく写像だけを考えるためには、どのようにすればよいのだろうか？ $` ( x : A ) \to ( y : A ) \to x < y \to ( ( z : B ) \times f ( z ) = y ) \to ( ( z : B ) \times f ( z ) = x ) `$ を課すればよいのである。では、この類の条件をなんと呼べばよいのだろうか？ 私が探しても呼び名はないので、私は「部分同型」と呼ぶことにする。

## 新しい体の定義

体は、次のフィールドを持つレコードである。

1. $` A : \mathrm{Type} `$ - これは一つ目の台である。
2. $` ( \lambda x \ldotp \lambda y \ldotp x + y ) : A \to A \to A `$ - これは加法の演算である。
3. $` 0 : A `$ - これは加法の単位元である。
4. $` ( \lambda x \ldotp - x ) : A \to A `$ - これは加法の逆元である。
5. $` \_ : ( x : A ) \to 0 + x = x `$ - これは加法の単位元が左単位元である証明である。
6. $` \_ : ( x : A ) \to x + 0 = x `$ - これは加法の単位元が右単位元である証明である。
7. $` \_ : ( x : A ) \to ( y : A ) \to ( z : A ) \to ( x + y ) + z = x + ( y + z ) `$ - これは加法の演算が結合性である証明である。
8. $` \_ : ( x : A ) \to ( - x ) + x = 0 `$ - これは加法の逆元が左逆元である証明である。
9. $` \_ : ( x : A ) \to x + ( - x ) = 0 `$ - これは加法の逆元が右逆元である証明である。
10. $` \_ : ( x : A ) \to ( y : A ) \to y + x = x + y `$ - これは加法の演算が交換性である証明である。
11. $` ( \lambda x \ldotp \lambda y \ldotp x \times y ) : A \to A \to A `$ - これは乗法の演算である。
12. $` 1 : A `$ - これは乗法の単位元である。
13. $` \_ : ( x : A ) \to 1 \times x = x `$ - これは乗法の単位元が左単位元である証明である。
14. $` \_ : ( x : A ) \to x \times 1 = x `$ - これは乗法の単位元が右単位元である証明である。
15. $` \_ : ( x : A ) \to ( y : A ) \to ( z : A ) \to ( x \times y ) \times z = x \times ( y \times z ) `$ - これは乗法の演算が結合性である証明である。
16. $` \_ : ( x : A ) \to ( y : A ) \to y \times x = x \times y `$ - これは乗法の演算が交換性である証明である。
17. $` \_ : ( x : A ) \to ( y : A ) \to ( z : A ) \to ( x + y ) \times z = ( x \times z ) + ( y \times z ) `$ - これは加法の演算と乗法の演算が分配性である証明である。
18. $` \_ : ( x : A ) \to ( y : A ) \to ( z : A ) \to x \times ( y + z ) = ( x \times y ) + ( x \times z ) `$ - これは加法の演算と乗法の演算が分配性である証明である。
19. $` \_ : ( x : A ) \to ( y : A ) \to ( z : A ) \to 0 \times z = 0 `$ - これは加法の演算と乗法の演算が分配性である証明である。
20. $` \_ : ( x : A ) \to ( y : A ) \to ( z : A ) \to x \times 0 = 0 `$ - これは加法の演算と乗法の演算が分配性である証明である。
21. $` A : \mathrm{Type} `$ - これは二つ目の台である。
22. $` ( \lambda x \ldotp \lambda y \ldotp x \times y ) : B \to B \to B `$ - これは乗法の演算である。
23. $` 1 : B `$ - これは乗法の単位元である。
24. $` ( \lambda x \ldotp 1 / x ) : B \to B `$ - これは乗法の逆元である。
25. $` \_ : ( x : B ) \to 1 \times x = x `$ - これは乗法の単位元が左単位元である証明である。
26. $` \_ : ( x : B ) \to x \times 1 = x `$ - これは乗法の単位元が右単位元である証明である。
27. $` \_ : ( x : B ) \to ( y : B ) \to ( z : B ) \to ( x \times y ) \times z = x \times ( y \times z ) `$ - これは乗法の演算が結合性である証明である。
28. $` \_ : ( x : B ) \to ( 1 / x ) \times x = 1 `$ - これは乗法の逆元が左逆元である証明である。
29. $` \_ : ( x : B ) \to x \times ( 1 / x ) = 1 `$ - これは乗法の逆元が右逆元である証明である。
30. $` \_ : ( x : B ) \to ( y : B ) \to y \times x = x \times y `$ - これは乗法の演算が交換性である証明である。
31. $` f : B \to A `$ - これは埋め込みである。
32. $` \_ : ( x : B ) \to ( y : B ) \to f ( x \times y ) = f ( x ) \times f ( y ) `$ - これは埋め込みが乗法の演算に関して準同型である証明である。
33. $` \_ : f ( 1 ) = 1 `$ - これは埋め込みが乗法の演算に関して準同型である証明である。
34. $` \_ : ( x : B ) \to ( y : B ) \to f ( x ) = f ( y ) \to x = y `$ - これは埋め込みが単射である証明である。
35. $` \_ : ( x : A ) \to ( y : A ) \to ( z : A ) \to x \times y = z \to ( ( w : B ) \times f ( w ) = z ) \to ( ( w : B ) \times f ( w ) = x ) \times ( ( w : B ) \times f ( w ) = y ) `$ - これは埋め込みが乗法の演算に関して部分同型である証明である。
36. $` \_ : ( x : A ) \to 1 = x \to ( ( y : B ) \times f ( y ) = x ) \to \top `$ - これは埋め込みが乗法の演算に関して部分同型である証明である。
